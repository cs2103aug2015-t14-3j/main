import java.util.ArrayList;
import java.util.Map;

public class Deleter {

	private Storage storage;
	
	private final String DELETE_INDEX = "index";
	
	public Deleter(Storage storage) {
		this.storage = storage;
	}
	
	public String delete(Map<String,String> parsedCommand, ArrayList<Task> lastDisplay) {
		int index = Integer.parseInt(parsedCommand.get(DELETE_INDEX)) - 1;
		
		Task taskToDelete = lastDisplay.get(index);
		ArrayList<Task> allTasks = storage.display();
		
		int storageIndex = allTasks.indexOf(taskToDelete);
		
		storage.delete(storageIndex);
		
		return "command: delete\n";
	}
}
